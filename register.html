<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daftar Akun | Marshal</title>

  <!-- ====== basic style ====== -->
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,Arial,sans-serif}
    body{
      display:flex;justify-content:center;align-items:center;min-height:100vh;
      background:#0d111d;color:#fff}
    .card{
      width:320px;padding:32px;border-radius:12px;background:#1c1c1c;
      box-shadow:0 0 20px rgba(168,138,221,.18)}
    h2{margin-bottom:20px;text-align:center;color:#a88add}
    input,button{
      width:100%;padding:12px;margin:8px 0;border:none;border-radius:6px;font-size:1rem}
    input{background:#242424;color:#fff}
    button{
      background:#a88add;color:#fff;font-weight:bold;cursor:pointer;transition:.25s}
    button:hover{background:#7e6bc4}
  </style>
</head>
<body>

  <div class="card">
    <h2>Daftar Akun</h2>

    <input type="email"    id="email"    placeholder="Email"    autocomplete="email" required>
    <input type="password" id="password" placeholder="Password" autocomplete="new-password" required>

    <button id="regBtn">Daftar</button>
  </div>

  <!-- ============ Supabase CDN ============ -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    /* GANTI key kalau kamu rotate di dashboard */
    const supabase = window.supabase.createClient(
      'https://egawvajdbuxobbatzigt.supabase.co',
      'sb-publishable-RCwXbT5eBBrB4pN67oNcoQ_wB7NJkU1'   // â† Publishable Key
    );

    document.getElementById('regBtn').onclick = async () => {
      const email    = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();

      if(!email || !password){
        alert('Email dan password wajib diisi');
        return;
      }

      const { error } = await supabase.auth.signUp({ email, password });

      if(error){
        alert('Gagal daftar: ' + error.message);
      }else{
        alert('Registrasi berhasil! Silakan login.');
        window.location.href = 'login.html';
      }
    };
  </script>
</body>
</html>
